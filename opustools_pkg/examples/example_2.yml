corpora:

  RF:
    type: OPUS
    parameters: 
      corpus_name: RF
      source_language: en
      target_language: sv
      release: latest
      preprocessing: xml

  RF-clean:
    type: OPUS
    parameters: 
      corpus_name: RF
      source_language: en
      target_language: sv
      release: latest
      preprocessing: xml
    filters:
      - LanguageIDFilter:
          src_lang: en
          tgt_lang: sv
          src_threshold: 0
          tgt_threshold: 0
      - TerminalPunctuationFilter:
          threshold: -2
      - NonZeroNumeralsFilter:
          threshold: 0.5
      - CharacterScoreFilter:
          src_script: latin-1
          tgt_script: latin-1
          src_threshold: 1
          tgt_threshold: 1

models:

  - type: ngram
    data: RF-clean
    language: en
    parameters:
      segmentation:
        type: char
      norder: 20
      dscale: 0.001
    output: RF_en.arpa

  - type: ngram
    data: RF-clean
    language: sv
    parameters:
      segmentation:
        type: char
      norder: 20
      dscale: 0.001
   output: RF_sv.arpa

  - type: aligment
    data: RF-clean
    parameters:
      model: 3
    output: RF_align.priors


filtering:

  input: RF
  output: RF_filtered
  filters:
    - LanguageIDFilter:
        src_lang: en
        tgt_lang: sv
        src_threshold: 0
        tgt_threshold: 0

    - TerminalPunctuationFilter:
        threshold: -2
      
    - NonZeroNumeralsFilter:
        threshold: 0.5
      
    - CharacterScoreFilter:
        src_script: latin-1
        tgt_script: latin-1
        src_threshold: 1
        tgt_threshold: 1

    - WordAlignFilter
        priors: RF_align.priors
        model: 3
        src_threshold: 0
        tgt_threshold: 0

    - CrossEntropyFilter
        src_lm_params:
          segmentation:
            type: char
          filename: RF_en.arpa
        tgt_lm_params:
          segmentation:
            type: char
          filename: RF_sv.arpa
        src_threshold: 50.0
        tgt_threshold: 50.0
        diff_threshold: 10.0
